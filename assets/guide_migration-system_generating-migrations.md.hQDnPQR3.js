import{_ as o,c as r,a2 as d,b as g,w as i,a3 as l,j as a,a as t,B as m,o as n,G as c}from"./chunks/framework.C5GEIE5F.js";const y=JSON.parse('{"title":"Generating Migrations","description":"","frontmatter":{},"headers":[],"relativePath":"guide/migration-system/generating-migrations.md","filePath":"guide/migration-system/generating-migrations.md"}'),p={name:"guide/migration-system/generating-migrations.md"};function h(u,e,b,k,f,C){const s=m("Mermaid");return n(),r("div",null,[e[1]||(e[1]=d('<h1 id="generating-migrations" tabindex="-1">Generating Migrations <a class="header-anchor" href="#generating-migrations" aria-label="Permalink to &quot;Generating Migrations&quot;">​</a></h1><p>To generate schema migrations based on what you have declared are generated using the <code>monolayer-pg</code> CLI with the <code>migrations generate</code> command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> monolayer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span></span></code></pre></div><p><code>monolayer-pg</code> will then introspect the schema defined in your application code and the actual database schema in your development database. If there are chages to be made it will:</p>',4)),(n(),g(l,null,{default:i(()=>[c(s,{id:"mermaid-10",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20A%5BCategorize%20the%20operations%20into%20one%20of%3A%20expand%2C%20alter%2C%20or%20contract%5D%0A%20%20%20%20A%20--%3E%20B%5BCreate%20change%20operations%20to%20achive%20the%20desired%20state%5D%0A%20%20%20%20B%20--%3E%20C%5BOptimize%20the%20operations%20to%20minimize%20database%20blocking%20and%20downtime%5D%0A%20%20%20%20C%20--%3E%20D%5BPrioritize%20the%20operations%5D%0A%20%20%20%20D%20--%3E%20E%5BGenerate%20migration%20files%20with%20forward%20and%20backward%20operations%5D%0A%20%20%20%20E%20--%3E%20F%5BOutput%20warnings%20about%20possible%20failures%2C%20backwards%20incompatible%2C%20destrucive%2C%20or%20blocking%20changes%5D%0A"})]),fallback:i(()=>e[0]||(e[0]=[t(" Loading... ")])),_:1})),e[2]||(e[2]=a("h2",{id:"custom-migrations",tabindex:"-1"},[t("Custom migrations "),a("a",{class:"header-anchor",href:"#custom-migrations","aria-label":'Permalink to "Custom migrations"'},"​")],-1)),e[3]||(e[3]=a("p",null,[t("You'll find instructions on how to generate custom migrations in the recipe: "),a("a",{href:"./../recipes/custom-migrations.html"},"Generating custom migrations"),t(".")],-1))])}const w=o(p,[["render",h]]);export{y as __pageData,w as default};
