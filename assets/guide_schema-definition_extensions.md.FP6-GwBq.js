import{_ as s,c as t,a2 as i,o as a}from"./chunks/framework.BBV1ZMcZ.js";const k=JSON.parse('{"title":"Extensions","description":"","frontmatter":{},"headers":[],"relativePath":"guide/schema-definition/extensions.md","filePath":"guide/schema-definition/extensions.md"}'),n={name:"guide/schema-definition/extensions.md"};function o(l,e,d,h,r,p){return a(),t("div",null,e[0]||(e[0]=[i(`<h1 id="extensions" tabindex="-1">Extensions <a class="header-anchor" href="#extensions" aria-label="Permalink to &quot;Extensions&quot;">â€‹</a></h1><p><code>monolayer-pg</code> manages <a href="./glossary.html#extension">extensions</a> through the <a href="./../../reference/api/schema/type-aliases/PgDatabaseConfig.html#extensions"><code>extensions</code></a> property in your database definition.</p><p>You add an extension to your database by using the <a href="./../../reference/api/schema/functions/extension.html"><code>extension</code></a> function.</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-a5-MK" id="tab-yiZ-arB" checked><label data-title="databases.ts" for="tab-yiZ-arB">databases.ts</label></div><div class="blocks"><div class="language-ts vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineDatabase, extension } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@monolayer/pg/schema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { dbSchema } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./schema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineDatabase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  schemas: [dbSchema],</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extensions: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">extension</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;moddatetime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)], </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div></div></div><p>When <code>monolayer-pg</code> generates migrations, extensions will be added, kept, or removed according to what&#39;s defined in the <code>extensions</code> property and what the database currently has installed:</p><table tabindex="0"><thead><tr><th style="text-align:center;">Extension</th><th style="text-align:left;">When</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>added</strong></td><td style="text-align:left;">extension is in your definition but not in the database</td></tr><tr><td style="text-align:center;"><strong>kept</strong></td><td style="text-align:left;">extension is in your definition and in the database</td></tr><tr><td style="text-align:center;"><strong>removed</strong></td><td style="text-align:left;">extension is the database but not in your definition</td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If you want to add extensions that are not part of the <a href="https://www.postgresql.org/docs/current/contrib.html" target="_blank" rel="noreferrer">default PostgreSQL installation</a>, make sure they are installed in the PostgreSQL server before applying migrations.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Some extensions need a user with superuser privileges to load them into the database. You should check the extension documentation accordingly.</p></div>`,8)]))}const g=s(n,[["render",o]]);export{k as __pageData,g as default};
